<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game API Dashboard</title>
    <style>
        body { font-family: Arial, sans-serif; }
        .container { width: 80%; margin: 0 auto; }
        .form-group { margin-bottom: 15px; }
        .form-group label { display: block; margin-bottom: 5px; }
        .form-group input, .form-group select { width: 100%; padding: 8px; }
        button { padding: 10px 15px; background-color: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer; }
        button:hover { background-color: rgb(250, 246, 10), 179, 0); }
    </style>
</head>
<body>
    <div class="container">
        <h1>Game API Dashboard</h1>

        <!-- Play Time by Genre -->
        <div class="form-group">
            <label for="genre">Enter Genre:</label>
            <input type="text" id="genre" name="genre">
            <button onclick="playTimeByGenre()">Get Play Time by Genre</button>
        </div>

        <!-- User For Genre -->
        <div class="form-group">
            <label for="userGenre">Enter Genre for User Stats:</label>
            <input type="text" id="userGenre" name="userGenre">
            <button onclick="userForGenre()">Get User Stats by Genre</button>
        </div>

        <!-- Users Recommend -->
        <div class="form-group">
            <label for="recommendYear">Enter Year:</label>
            <input type="number" id="recommendYear" name="recommendYear">
            <button onclick="usersRecommend()">Get Top Recommended Games</button>
        </div>

        <!-- Users Worst Developer -->
        <div class="form-group">
            <label for="worstDevYear">Enter Year:</label>
            <input type="number" id="worstDevYear" name="worstDevYear">
            <button onclick="usersWorstDeveloper()">Get Worst Developers</button>
        </div>

        <!-- Sentiment Analysis -->
        <div class="form-group">
            <label for="developer">Enter Developer Name:</label>
            <input type="text" id="developer" name="developer">
            <button onclick="sentimentAnalysis()">Get Sentiment Analysis</button>
        </div>

        <!-- Game Recommendation -->
        <div class="form-group">
            <label for="itemId">Enter Item ID:</label>
            <input type="number" id="itemId" name="itemId">
            <button onclick="gameRecommendation()">Get Game Recommendations</button>
        </div>

        <!-- User Recommendation -->
        <div class="form-group">
            <label for="userId">Enter User ID:</label>
            <input type="number" id="userId" name="userId">
            <button onclick="userRecommendation()">Get User Recommendations</button>
        </div>

        <!-- API Response Display -->
        <div id="apiResponse"></div>
    </div>

    <script>
        function handleApiResponse(response) {
            if (!response.ok) {
                throw Error(response.statusText);
            }
            return response.json();
        }
    
        function displayError(error) {
            document.getElementById('apiResponse').innerText = `Error: ${error}`;
        }
    
        function displayResponse(data) {
            document.getElementById('apiResponse').innerText = JSON.stringify(data, null, 2);
        }
    
        function playTimeByGenre() {
            const genre = document.getElementById('genre').value;
            fetch(`https://my-new-app-jlt5.onrender.com/PlayTimeGenre?genre=${genre}`)
                .then(handleApiResponse)
                .then(displayResponse)
                .catch(displayError);
        }
    
        function userForGenre() {
            const genre = document.getElementById('userGenre').value;
            fetch(`https://my-new-app-jlt5.onrender.com/UserForGenre?genre=${genre}`)
                .then(handleApiResponse)
                .then(displayResponse)
                .catch(displayError);
        }
    
        function usersRecommend() {
            const year = document.getElementById('recommendYear').value;
            fetch(`https://my-new-app-jlt5.onrender.com/UsersRecommend?year=${year}`)
                .then(handleApiResponse)
                .then(displayResponse)
                .catch(displayError);
        }
    
        function usersWorstDeveloper() {
            const year = document.getElementById('worstDevYear').value;
            fetch(`https://my-new-app-jlt5.onrender.com/UsersWorstDeveloper?year=${year}`)
                .then(handleApiResponse)
                .then(displayResponse)
                .catch(displayError);
        }
    
        function sentimentAnalysis() {
            const developer = document.getElementById('developer').value;
            fetch(`https://my-new-app-jlt5.onrender.com/sentiment_analysis?developer=${developer}`)
                .then(handleApiResponse)
                .then(displayResponse)
                .catch(displayError);
        }
    
        function gameRecommendation() {
            const itemId = document.getElementById('itemId').value;
            fetch(`https://my-new-app-jlt5.onrender.com/game_recommendation?item_id=${itemId}`)
                .then(handleApiResponse)
                .then(displayResponse)
                .catch(displayError);
        }
    
        function userRecommendation() {
            const userId = document.getElementById('userId').value;
            fetch(`https://my-new-app-jlt5.onrender.com/user_recommendation?user_id=${userId}`)
                .then(handleApiResponse)
                .then(displayResponse)
                .catch(displayError);
        }
    </script>
    
</body>
</html>
